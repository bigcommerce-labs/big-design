version: 2.1
orbs:
  ci: bigcommerce/internal@volatile
  node: bigcommerce/internal-node@volatile

jobs:
  build:
    executor:
      name: node/node
      node-version: '10'

    steps:
      - ci/pre-setup

      - node/yarn-install:
          yarn_version: 1.16.0

      - run: yarn run ci

workflows:
  version: 2
  build_and_test:
    jobs:
      - build:
        filters:
          branches:
            ignore: gh-pages
